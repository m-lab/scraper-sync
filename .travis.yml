language: python
cache:
  pip: true
  directories:
    - "$HOME/google-cloud-sdk/"
python: "2.7"
sudo: required
dist: trusty
install:
  - sudo apt-get -qq update
  - sudo apt-get install -y nocache
  - pip install -r requirements.txt
  - pip install -r test-requirements.txt
  - pip install coveralls
script:
  coverage run --source='.' -m unittest discover --pattern='*_test.py'
after_success:
  coveralls
